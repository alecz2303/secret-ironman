function calcula(){var m=document.getElementById("CalculacurpForm_ap_paterno").value;var e=document.getElementById("CalculacurpForm_ap_materno").value;var l=document.getElementById("CalculacurpForm_nombre").value;var n=document.getElementById("CalculacurpForm_fec_nac").value;var d=document.getElementById("CalculacurpForm_sexo").value;var b=document.getElementById("CalculacurpForm_estado").value;var h=n;var c=RFCFiltraAcentos(m.toLowerCase());var g=RFCFiltraAcentos(e.toLowerCase());var a=RFCFiltraAcentos(l.toLowerCase());var f=c;var k=g;var j=a;c=RFCFiltraNombres(c);g=RFCFiltraNombres(g);a=RFCFiltraNombres(a);if(c.length>0&&g.length>0){if(c.length<3){n=RFCApellidoCorto(c,g,a)}else{n=RFCArmalo(c,g,a)}}if(c.length==0&&g.length>0){n=RFCUnApellido(a,g)}if(c.length>0&&g.length==0){n=RFCUnApellido(a,c)}n=RFCQuitaProhibidas(n);n=n.toUpperCase()+h+homonimia(f,k,j);n=RFCDigitoVerificador(n);fnCalculaCURP(a.toUpperCase(),c.toUpperCase(),g.toUpperCase(),h,d,b);document.getElementById("CalculacurpForm_rfc").value=n;return false}function RFCDigitoVerificador(b){var d=[];var c=0;var e=0;for(i=0;i<=b.length;i++){var a=b.substr(i,1);switch(a){case"0":d.push("00");break;case"1":d.push("01");break;case"2":d.push("02");break;case"3":d.push("03");break;case"4":d.push("04");break;case"5":d.push("05");break;case"6":d.push("06");break;case"7":d.push("07");break;case"8":d.push("08");break;case"9":d.push("09");break;case"A":d.push("10");break;case"B":d.push("11");break;case"C":d.push("12");break;case"D":d.push("13");break;case"E":d.push("14");break;case"F":d.push("15");break;case"G":d.push("16");break;case"H":d.push("17");break;case"I":d.push("18");break;case"J":d.push("19");break;case"K":d.push("20");break;case"L":d.push("21");break;case"M":d.push("22");break;case"N":d.push("23");break;case"&":d.push("24");break;case"O":d.push("25");break;case"P":d.push("26");break;case"Q":d.push("27");break;case"R":d.push("28");break;case"S":d.push("29");break;case"T":d.push("30");break;case"U":d.push("31");break;case"V":d.push("32");break;case"W":d.push("33");break;case"X":d.push("34");break;case"Y":d.push("35");break;case"Z":d.push("36");break;case" ":d.push("37");break;case"Ñ":d.push("38");break;default:d.push("00")}}for(i=13;i>1;i--){c=c+(d[e]*i);e++}c=c%11;if(c==0){b=b+c}else{if(c<=10){c=11-c;if(c=="10"){c="A"}b=b+c}else{if(c=="10"){c="A";b=b+c}}}return b}function RFCQuitaProhibidas(a){var b;a=a.toUpperCase();var c="BUEI*BUEY*CACA*CACO*CAGA*CAGO*CAKA*CAKO*COGE*COJA*";c=c+"KOGE*KOJO*KAKA*KULO*MAME*MAMO*MEAR*";c=c+"MEAS*MEON*MION*COJE*COJI*COJO*CULO*";c=c+"FETO*GUEY*JOTO*KACA*KACO*KAGA*KAGO*";c=c+"MOCO*MULA*PEDA*PEDO*PENE*PUTA*PUTO*";c=c+"QULO*RATA*RUIN*";b=c.match(a);if(b!=null){a=a.substr(0,3)+"X";return a}else{return a}}function RFCUnApellido(c,b){var a=b.substr(0,2)+c.substr(0,2);return a}function RFCArmalo(j,b,g){var a="aeiou";var d="";var c=0;var f=0;var e=0;for(c=1;c<=j.length;c++){if(e==0){for(f=0;f<=a.length;f++){if(j.substr(c,1)==a.substr(f,1)){e=1;d=j.substr(c,1)}}}}var h=j.substr(0,1)+d+b.substr(0,1)+g.substr(0,1);return h}function RFCApellidoCorto(b,c,d){var a=b.substr(0,1)+c.substr(0,1)+d.substr(0,2);return a}function RFCFiltraNombres(a){var c=0;var b=[".",",","de ","del ","la ","los ","las ","y ","mc ","mac ","von ","van "];for(c=0;c<=b.length;c++){a=a.replace(b[c],"")}b=["jose ","maria ","j ","ma "];for(c=0;c<=b.length;c++){a=a.replace(b[c],"")}switch(a.substr(0,2)){case"ch":a=a.replace("ch","c");break;case"ll":a=a.replace("ll","l");break}return a}function RFCFiltraAcentos(a){a=a.replace("á","a");a=a.replace("é","e");a=a.replace("í","i");a=a.replace("ó","o");a=a.replace("ú","u");return a}function homonimia(o,b,l){var m=o.trim()+" "+b.trim()+" "+l.trim();var c="0";var d;var n;var k;var a=0;for(i=0;i<=m.length;i++){d=m.substr(i,1);switch(d){case"ñ":c=c+"10";break;case"ü":c=c+"10";break;case"a":c=c+"11";break;case"b":c=c+"12";break;case"c":c=c+"13";break;case"d":c=c+"14";break;case"e":c=c+"15";break;case"f":c=c+"16";break;case"g":c=c+"17";break;case"h":c=c+"18";break;case"i":c=c+"19";break;case"j":c=c+"21";break;case"k":c=c+"22";break;case"l":c=c+"23";break;case"m":c=c+"24";break;case"n":c=c+"25";break;case"ñ":c=c+"40";break;case"o":c=c+"26";break;case"p":c=c+"27";break;case"q":c=c+"28";break;case"r":c=c+"29";break;case"s":c=c+"32";break;case"t":c=c+"33";break;case"u":c=c+"34";break;case"v":c=c+"35";break;case"w":c=c+"36";break;case"x":c=c+"37";break;case"y":c=c+"38";break;case"z":c=c+"39";break;case" ":c=c+"00";break}}for(i=0;i<=c.length+1;i++){n=c.substr(i,2);k=c.substr(i+1,1);a=a+(n*k)}var j=a%1000;var h=j/34;var g=h.toString().split(".")[0];var e=j%34;var f="";switch(g){case"0":f="1";break;case"1":f="2";break;case"2":f="3";break;case"3":f="4";break;case"4":f="5";break;case"5":f="6";break;case"6":f="7";break;case"7":f="8";break;case"8":f="9";break;case"9":f="A";break;case"10":f="B";break;case"11":f="C";break;case"12":f="D";break;case"13":f="E";break;case"14":f="F";break;case"15":f="G";break;case"16":f="H";break;case"17":f="I";break;case"18":f="J";break;case"19":f="K";break;case"20":f="L";break;case"21":f="M";break;case"22":f="N";break;case"23":f="P";break;case"24":f="Q";break;case"25":f="R";break;case"26":f="S";break;case"27":f="T";break;case"28":f="U";break;case"29":f="V";break;case"30":f="W";break;case"31":f="X";break;case"32":f="Y";break;case"33":f="Z";break}switch(e.toString()){case"0":f=f+"1";break;case"1":f=f+"2";break;case"2":f=f+"3";break;case"3":f=f+"4";break;case"4":f=f+"5";break;case"5":f=f+"6";break;case"6":f=f+"7";break;case"7":f=f+"8";break;case"8":f=f+"9";break;case"9":f=f+"A";break;case"10":f=f+"B";break;case"11":f=f+"C";break;case"12":f=f+"D";break;case"13":f=f+"E";break;case"14":f=f+"F";break;case"15":f=f+"G";break;case"16":f=f+"H";break;case"17":f=f+"I";break;case"18":f=f+"J";break;case"19":f=f+"K";break;case"20":f=f+"L";break;case"21":f=f+"M";break;case"22":f=f+"N";break;case"23":f=f+"P";break;case"24":f=f+"Q";break;case"25":f=f+"R";break;case"26":f=f+"S";break;case"27":f=f+"T";break;case"28":f=f+"U";break;case"29":f=f+"V";break;case"30":f=f+"W";break;case"31":f=f+"X";break;case"32":f=f+"Y";break;case"33":f=f+"Z";break}return f}function fnCalculaCURP(o,t,k,f,d,m){pstCURP="";pstDigVer="";s=0;b=0;j="";numVer=0;g=0;p=0;NOMBRES="";APATERNO="";AMATERNO="";T_NOMTOT="";NOMBRE1="";NOMBRE2="";NOMBRES_LONGITUD=0;var l=0;APATERNO1="";APATERNO2="";APATERNO_LONGITUD=0;APATERNO1_LONGITUD=0;AMATERNO1="";AMATERNO2="";AMATERNO_LONGITUD=0;AMATERNO1_LONGITUD=0;VARLOOPS=0;NOMBRES=o.replace(/^\s+|\s+$/g,"");APATERNO=t.replace(/^\s+|\s+$/g,"");AMATERNO=k.replace(/^\s+|\s+$/g,"");T_NOMTOT=APATERNO+" "+AMATERNO+" "+NOMBRES;VARLOOPS=0;while(VARLOOPS!=1){NOMBRES_LONGITUD=NOMBRES.length;var n=NOMBRES.split(" ");var c=n[0];l=c.length;if(l=0){l=NOMBRES_LONGITUD}NOMBRE1=NOMBRES.substring(0,c.length);NOMBRE2=NOMBRES.substring(c.length+1,NOMBRES.length);if(NOMBRE1=="JOSE"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="MARIA"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="MA."&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="MA"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="DE"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="LA"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="LAS"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="MC"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="VON"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="DEL"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="LOS"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="Y"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="MAC"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}if(NOMBRE1=="VAN"&&NOMBRE2!=""){NOMBRES=NOMBRE2}else{VARLOOPS=1}}VARLOOPS=0;while(VARLOOPS!=1){APATERNO_LONGITUD=APATERNO.length;var e=APATERNO.split(" ");var q=e[0];APATERNO1_LONGITUD=q.length;if(APATERNO1_LONGITUD=0){APATERNO1_LONGITUD=APATERNO_LONGITUD}APATERNO1=APATERNO.substring(0,q.length);APATERNO2=APATERNO.substring(q.length+1,APATERNO.length);if(APATERNO1=="DE"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="LA"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="LAS"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="MC"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="VON"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="DEL"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="LOS"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="Y"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="MAC"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}if(APATERNO1=="VAN"&&APATERNO2!=""){APATERNO=APATERNO2}else{VARLOOPS=1}}VARLOOPS=0;while(VARLOOPS!=1){AMATERNO_LONGITUD=AMATERNO.length;var r=AMATERNO.split(" ");var h=r[0];AMATERNO1_LONGITUD=h.length;if(AMATERNO1_LONGITUD=0){AMATERNO1_LONGITUD=AMATERNO_LONGITUD}AMATERNO1=AMATERNO.substring(0,h.length);AMATERNO2=AMATERNO.substring(h.length+1,AMATERNO.length);if(AMATERNO1=="DE"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="LA"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="LAS"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="MC"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="VON"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="DEL"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="LOS"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="Y"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="MAC"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}if(AMATERNO1=="VAN"&&AMATERNO2!=""){AMATERNO=AMATERNO2}else{VARLOOPS=1}}pstCURP=APATERNO1.substring(0,1);APATERNO1_LONGITUD=APATERNO1.length;VARLOOPS=0;while(APATERNO1_LONGITUD>VARLOOPS){VARLOOPS=VARLOOPS+1;var a=APATERNO1.substr(parseInt(VARLOOPS),1);if(a=="A"){pstCURP=pstCURP+a;VARLOOPS=APATERNO1_LONGITUD}if(a=="E"){pstCURP=pstCURP+a;VARLOOPS=APATERNO1_LONGITUD}if(a=="I"){pstCURP=pstCURP+a;VARLOOPS=APATERNO1_LONGITUD}if(a=="O"){pstCURP=pstCURP+a;VARLOOPS=APATERNO1_LONGITUD}if(a=="U"){pstCURP=pstCURP+a;VARLOOPS=APATERNO1_LONGITUD}}pstCURP=pstCURP+AMATERNO1.substring(0,1);pstCURP=pstCURP+NOMBRES.substring(0,1);pstCURP=pstCURP+f+d+m;VARLOOPS=0;while(q.length>VARLOOPS){VARLOOPS=VARLOOPS+1;var a=APATERNO1.substr(parseInt(VARLOOPS),1);if(a!="A"&&a!="E"&&a!="I"&&a!="O"&&a!="U"){if(a=="Ñ"){pstCURP=pstCURP+"X"}else{pstCURP=pstCURP+a}VARLOOPS=q.length}}VARLOOPS=0;while(h.length>VARLOOPS){VARLOOPS=VARLOOPS+1;var a=AMATERNO1.substr(parseInt(VARLOOPS),1);if(a!="A"&&a!="E"&&a!="I"&&a!="O"&&a!="U"){if(a=="Ñ"){pstCURP=pstCURP+"X"}else{pstCURP=pstCURP+a}VARLOOPS=h.length}}VARLOOPS=0;while(c.length>VARLOOPS){VARLOOPS=VARLOOPS+1;var a=NOMBRE1.substr(parseInt(VARLOOPS),1);if(a!="A"&&a!="E"&&a!="I"&&a!="O"&&a!="U"){if(a=="Ñ"){pstCURP=pstCURP+"X"}else{pstCURP=pstCURP+a}VARLOOPS=c.length}}var s=18;var b=0;var g=0;var p=0;while(b<=15){var j=pstCURP.substr(parseInt(b),1);if(j=="0"){g=0*s}if(j=="1"){g=1*s}if(j=="2"){g=2*s}if(j=="3"){g=3*s}if(j=="4"){g=4*s}if(j=="5"){g=5*s}if(j=="6"){g=6*s}if(j=="7"){g=7*s}if(j=="8"){g=8*s}if(j=="9"){g=9*s}if(j=="A"){g=10*s}if(j=="B"){g=11*s}if(j=="C"){g=12*s}if(j=="D"){g=13*s}if(j=="E"){g=14*s}if(j=="F"){g=15*s}if(j=="G"){g=16*s}if(j=="H"){g=17*s}if(j=="I"){g=18*s}if(j=="J"){g=19*s}if(j=="K"){g=20*s}if(j=="L"){g=21*s}if(j=="M"){g=22*s}if(j=="N"){g=23*s}if(j=="Ñ"){g=24*s}if(j=="O"){g=25*s}if(j=="P"){g=26*s}if(j=="Q"){g=27*s}if(j=="R"){g=28*s}if(j=="S"){g=29*s}if(j=="T"){g=30*s}if(j=="U"){g=31*s}if(j=="V"){g=32*s}if(j=="W"){g=33*s}if(j=="X"){g=34*s}if(j=="Y"){g=35*s}if(j=="Z"){g=36*s}s=s-1;b=b+1;p=p+g}numVer=p%10;numVer=Math.abs(10-numVer);anio=f.substr(2,2);if(numVer==10){numVer=0}if(anio<2000){pstDigVer="0"+numVer}if(anio>=2000){pstDigVer="A"+numVer}pstCURP=pstCURP+pstDigVer;document.getElementById("CalculacurpForm_curp").value=pstCURP;return pstCURP};